"use strict";var inputEmail=document.querySelector(".input-user-email"),setUserRole=function(e){var t;confirm("Do you want to change roles for ".concat(e.getAttribute("name")," on ").concat(e.getAttribute("value"),"?"))?(t={email:e.getAttribute("name"),newRole:e.getAttribute("value")},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},fetch("/user/setRoleForUser/",t).then(function(e){return e.json()}).then(function(e){console.log(e)})):e.closest(".users__option").previousSibling.dispatchEvent(new Event("click"))},getUserOption=function(e,i){var t,a=e,n={1:"Client",2:"Administrator",3:"Cashier",4:"Customer service",5:"Accountant",6:"Press spokesman",7:"Management"},r=document.createElement("div");for(t in r.classList.add("users__option"),n)r.append(function(e,t){var n=document.createElement("label"),r=(n.classList.add("input-box__label"),n.setAttribute("for",t.replace(" ","_")+"_"+a),document.createElement("input"));return r.setAttribute("type","radio"),r.setAttribute("name",a),r.setAttribute("id",t.replace(" ","_")+"_"+a),r.addEventListener("click",function(){return setUserRole(r)}),r.setAttribute("value",e),e===i&&(r.checked=!0),n.append(r,t),n}(t,n[t]));return r},setClick=function(e,t){var n=e.parentElement,r=e.getAttribute("data-name");n.innerHTML="",n.append(e,getUserOption(r,t))},createUsersHeader=function(e){var t,i=document.querySelector(".set-rule__users");i.innerHTML="",0===e.length?((t=document.createElement("p")).textContent="No user found with the given e-mail address.",i.append(t)):e.forEach(function(t){var e=document.createElement("div"),n=(e.classList.add("users__item"),document.createElement("div")),r=(n.classList.add("users__name"),n.setAttribute("data-name",t.fields.email),document.createElement("p"));r.textContent="".concat(t.fields.email," - ").concat(t.fields.nameUser," ").concat(t.fields.surnameUser),n.append(r),n.addEventListener("click",function(e){return setClick(e.target,t.fields.role)}),e.append(n),i.append(e)})},getUsersByEmail=function(e){e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})};fetch("/user/getUsersList/",e).then(function(e){return e.json()}).then(function(e){createUsersHeader(e)})};function inputHandler(e){("Enter"==e.key||4<inputEmail.value.length)&&getUsersByEmail(inputEmail.value)}inputEmail.addEventListener("keyup",function(e){return inputHandler(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldFJ1bGUuanMiXSwibmFtZXMiOlsiaW5wdXRFbWFpbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1ldGhvZCIsImNvbmZpcm0iLCJjb25jYXQiLCJzZXRVc2VyUm9sZSIsIm9wdGlvbiIsImdldEF0dHJpYnV0ZSIsImVtYWlsIiwibmV3Um9sZSIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcmFtcyIsImZldGNoIiwib3B0aW9ucyIsInRoZW4iLCJtZXNzYWdlIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJjbG9zZXN0IiwicHJldmlvdXNTaWJsaW5nIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiZ2V0VXNlck9wdGlvbiIsIm5hbWVSYWRpbyIsInJvbGVWYWx1ZSIsImtleSIsIm5hbWUiLCJydWxlTGlzdCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCJvcHRpb25zTGlzdCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJsYWJlbCIsInNldEF0dHJpYnV0ZSIsImlucHV0IiwiY29udGVudCIsInJlcGxhY2UiLCJhZGRFdmVudExpc3RlbmVyIiwidmFsdWUiLCJhcHBlbmQiLCJzZXRDbGljayIsIml0ZW0iLCJib3giLCJwYXJlbnRFbGVtZW50IiwiaW5uZXJIVE1MIiwicCIsIml0ZW1zT2ZVc2VycyIsImRhdGEiLCJsZW5ndGgiLCJjcmVhdGVVc2Vyc0hlYWRlciIsImZvckVhY2giLCJ1c2VyIiwidGV4dENvbnRlbnQiLCJpdGVtVSIsIm5hbWVVIiwiZmllbGRzIiwibmFtZVVzZXIiLCJzdXJuYW1lVXNlciIsInJvbGUiLCJ1c2VyRW1haWwiLCJnZXRVc2Vyc0J5RW1haWwiLCJyZXNwb25zZSIsImlucHV0SGFuZGxlciIsImUiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFdBQWFDLFNBQVNDLGNBQWMscUJBQXBDRixZQUFhQyxTQUFBQSxHQUdsQixJQVdFRSxFQVhl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QkFBQUMsS0FBZkMsS0FBQUMsVUFORTRDLENBT0RsRCxNQXBCQStELEtBNkJEdkQsTUFOQ2Qsc0JBRGFlLEdBUVpDLEtBTkRSLFNBQUFBLEdBQUFBLE9BQVMrRCxFQUFBckQsU0FPUkYsS0FOQSxTQUFBeUMsR0FPQUUsa0JBVllGLE1BY2YsU0FOUWUsYUFBdUJ0RCxJQUN2QixTQUFMRixFQUFBQSxLQUFlLEVBQVZuQixXQUFVbUQsTUFBQVUsU0FPaEJZLGdCQU5DWCxXQUFBWCxPQUlIbkQsV0FBUzJFLGlCQUFnQixRQUFBLFNBQUFDLEdBQUEsT0FBQUQsYUFBQUMiLCJmaWxlIjoic2V0UnVsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnB1dEVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dC11c2VyLWVtYWlsXCIpO1xyXG5cclxuY29uc3Qgc2V0VXNlclJvbGUgPSAob3B0aW9uKSA9PiB7XHJcblx0bGV0IGNoYW5nZVJvbGUgPSBjb25maXJtKFxyXG5cdFx0YERvIHlvdSB3YW50IHRvIGNoYW5nZSByb2xlcyBmb3IgJHtvcHRpb24uZ2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcIm5hbWVcIlxyXG5cdFx0KX0gb24gJHtvcHRpb24uZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9P2BcclxuXHQpO1xyXG5cdGlmIChjaGFuZ2VSb2xlKSB7XHJcblx0XHRjb25zdCBwYXJhbXMgPSB7XHJcblx0XHRcdGVtYWlsOiBvcHRpb24uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxcclxuXHRcdFx0bmV3Um9sZTogb3B0aW9uLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLFxyXG5cdFx0fTtcclxuXHRcdGxldCBvcHRpb25zID0ge1xyXG5cdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxyXG5cdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0XCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcblx0XHRcdH0sXHJcblx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhcmFtcyksXHJcblx0XHR9O1xyXG5cdFx0ZmV0Y2goXCIvdXNlci9zZXRSb2xlRm9yVXNlci9cIiwgb3B0aW9ucylcclxuXHRcdFx0LnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0XHRcdC50aGVuKChtZXNzYWdlKSA9PiB7XHJcblx0XHRcdFx0Ly8gY29kZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG5cdFx0XHR9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0b3B0aW9uXHJcblx0XHRcdC5jbG9zZXN0KFwiLnVzZXJzX19vcHRpb25cIilcclxuXHRcdFx0LnByZXZpb3VzU2libGluZy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNsaWNrXCIpKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBnZXRVc2VyT3B0aW9uID0gKG5hbWVSYWRpbywgcm9sZVZhbHVlKSA9PiB7XHJcblx0bGV0IG5hbWUgPSBuYW1lUmFkaW87XHJcblx0Y29uc3QgcnVsZUxpc3QgPSB7XHJcblx0XHQxOiBcIkNsaWVudFwiLFxyXG5cdFx0MjogXCJBZG1pbmlzdHJhdG9yXCIsXHJcblx0XHQzOiBcIkNhc2hpZXJcIixcclxuXHRcdDQ6IFwiQ3VzdG9tZXIgc2VydmljZVwiLFxyXG5cdFx0NTogXCJBY2NvdW50YW50XCIsXHJcblx0XHQ2OiBcIlByZXNzIHNwb2tlc21hblwiLFxyXG5cdFx0NzogXCJNYW5hZ2VtZW50XCIsXHJcblx0fTtcclxuXHRjb25zdCBydWxlID0gKHZhbHVlLCBjb250ZW50KSA9PiB7XHJcblx0XHRsZXQgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcblx0XHRsYWJlbC5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtYm94X19sYWJlbFwiKTtcclxuXHRcdGxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBjb250ZW50LnJlcGxhY2UoXCIgXCIsIFwiX1wiKSArIFwiX1wiICsgbmFtZSk7XHJcblx0XHRsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwicmFkaW9cIik7XHJcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIG5hbWUpO1xyXG5cdFx0aW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgY29udGVudC5yZXBsYWNlKFwiIFwiLCBcIl9cIikgKyBcIl9cIiArIG5hbWUpO1xyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHNldFVzZXJSb2xlKGlucHV0KSk7XHJcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCB2YWx1ZSk7XHJcblx0XHRpZiAodmFsdWUgPT09IHJvbGVWYWx1ZSkge1xyXG5cdFx0XHRpbnB1dC5jaGVja2VkID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGxhYmVsLmFwcGVuZChpbnB1dCwgY29udGVudCk7XHJcblx0XHRyZXR1cm4gbGFiZWw7XHJcblx0fTtcclxuXHRjb25zdCBvcHRpb25zTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0b3B0aW9uc0xpc3QuY2xhc3NMaXN0LmFkZChcInVzZXJzX19vcHRpb25cIik7XHJcblx0Zm9yIChsZXQga2V5IGluIHJ1bGVMaXN0KSB7XHJcblx0XHRsZXQgdmFsdWUgPSBydWxlTGlzdFtrZXldO1xyXG5cdFx0b3B0aW9uc0xpc3QuYXBwZW5kKHJ1bGUoa2V5LCB2YWx1ZSkpO1xyXG5cdH1cclxuXHRyZXR1cm4gb3B0aW9uc0xpc3Q7XHJcbn07XHJcblxyXG5jb25zdCBzZXRDbGljayA9IChpdGVtLCByb2xlVmFsdWUpID0+IHtcclxuXHRsZXQgYm94ID0gaXRlbS5wYXJlbnRFbGVtZW50O1xyXG5cdGxldCBuYW1lUmFkaW8gPSBpdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiKTtcclxuXHRib3guaW5uZXJIVE1MID0gXCJcIjtcclxuXHRib3guYXBwZW5kKGl0ZW0sIGdldFVzZXJPcHRpb24obmFtZVJhZGlvLCByb2xlVmFsdWUpKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVzZXJzSGVhZGVyID0gKGRhdGEpID0+IHtcclxuXHRsZXQgaXRlbXNPZlVzZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZXQtcnVsZV9fdXNlcnNcIik7XHJcblx0aXRlbXNPZlVzZXJzLmlubmVySFRNTCA9IFwiXCI7XHJcblx0aWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XHJcblx0XHRsZXQgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0cC50ZXh0Q29udGVudCA9IFwiTm8gdXNlciBmb3VuZCB3aXRoIHRoZSBnaXZlbiBlLW1haWwgYWRkcmVzcy5cIjtcclxuXHRcdGl0ZW1zT2ZVc2Vycy5hcHBlbmQocCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGRhdGEuZm9yRWFjaCgodXNlcikgPT4ge1xyXG5cdFx0XHRsZXQgaXRlbVUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRpdGVtVS5jbGFzc0xpc3QuYWRkKFwidXNlcnNfX2l0ZW1cIik7XHJcblx0XHRcdGxldCBuYW1lVSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRcdG5hbWVVLmNsYXNzTGlzdC5hZGQoXCJ1c2Vyc19fbmFtZVwiKTtcclxuXHRcdFx0bmFtZVUuc2V0QXR0cmlidXRlKFwiZGF0YS1uYW1lXCIsIHVzZXIuZmllbGRzLmVtYWlsKTtcclxuXHRcdFx0bGV0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdFx0cC50ZXh0Q29udGVudCA9IGAke3VzZXIuZmllbGRzLmVtYWlsfSAtICR7dXNlci5maWVsZHMubmFtZVVzZXJ9ICR7dXNlci5maWVsZHMuc3VybmFtZVVzZXJ9YDtcclxuXHRcdFx0bmFtZVUuYXBwZW5kKHApO1xyXG5cdFx0XHRuYW1lVS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKG5hbWVVKSA9PlxyXG5cdFx0XHRcdHNldENsaWNrKG5hbWVVLnRhcmdldCwgdXNlci5maWVsZHMucm9sZSlcclxuXHRcdFx0KTtcclxuXHRcdFx0aXRlbVUuYXBwZW5kKG5hbWVVKTtcclxuXHRcdFx0aXRlbXNPZlVzZXJzLmFwcGVuZChpdGVtVSk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBnZXRVc2Vyc0J5RW1haWwgPSAodXNlckVtYWlsKSA9PiB7XHJcblx0Y29uc3QgcGFyYW1zID0ge1xyXG5cdFx0ZW1haWw6IHVzZXJFbWFpbCxcclxuXHR9O1xyXG5cdGxldCBvcHRpb25zID0ge1xyXG5cdFx0bWV0aG9kOiBcIlBPU1RcIixcclxuXHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcblx0XHR9LFxyXG5cdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zKSxcclxuXHR9O1xyXG5cdGZldGNoKFwiL3VzZXIvZ2V0VXNlcnNMaXN0L1wiLCBvcHRpb25zKVxyXG5cdFx0LnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0XHQudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRjcmVhdGVVc2Vyc0hlYWRlcihkYXRhKTtcclxuXHRcdH0pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gaW5wdXRIYW5kbGVyKGUpIHtcclxuXHRpZiAoZS5rZXkgPT0gXCJFbnRlclwiIHx8IGlucHV0RW1haWwudmFsdWUubGVuZ3RoID4gNCkge1xyXG5cdFx0Z2V0VXNlcnNCeUVtYWlsKGlucHV0RW1haWwudmFsdWUpO1xyXG5cdH1cclxufVxyXG5cclxuaW5wdXRFbWFpbC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGUpID0+IGlucHV0SGFuZGxlcihlKSk7XHJcbiJdfQ==
